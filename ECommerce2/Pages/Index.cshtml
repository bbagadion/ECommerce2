@page
@model IndexModel
@using ECommerce2.Models;
@{
    ViewData["Title"] = "Home page";
}



<div class="text-center">
    <h1 class="display-4">Welcome to the DBD ECommerce Store</h1>
    <p>Take a look at our delicious fruits</p>
</div>
@foreach (var product in Model.featuredProducts)
{
    Product p = (Product)product;
    int q = 0;

<form method="post">
    <div class="card-group">
        <div class="card">
            <img src="~/Images/@p.Product_Photo" class="card-img-top" alt="...">
            <div class="card-body">
                <h5 class="card-title">@p.Product_Name</h5>
                <p class="card-text">@p.Product_Price</p>
                <input type = "number" asp-for="Cart.Quantity" class="form-control" value= int q />
                <p class="card-text">@p.Product_Description</p>
            </div>
        </div>
    </div>
 
        <div asp-validation-summary="ModelOnly" class="text-danger"></div>
        <div class="form-group">
            <input type = "hidden"asp-for="Cart.CartID" class="form-control" value="1"/>
            <span asp-validation-for="Cart.CartID" class="text-danger"></span>
        </div>
        <div class="form-group">
            <input type ="hidden" asp-for="Cart.ProdName" class="form-control" value="@p.Product_Name" />
            <span asp-validation-for="Cart.ProdName" class="text-danger"></span>
        </div>
        <div class="form-group">
            <input type ="hidden" asp-for="Cart.Quantity" class="form-control" value="q"/>
            <span asp-validation-for="Cart.Quantity" class="text-danger"></span>
        </div>
        <div class="form-group">
            <input type="hidden" asp-for="Cart.Subtotal" class="form-control" value=""  />
            <span asp-validation-for="Cart.Subtotal" class="text-danger"></span>
        </div>
        <div class="form-group">
            <input type ="hidden" asp-for="Cart.Tax" class="form-control" value ="0.06"/>
            <span asp-validation-for="Cart.Tax" class="text-danger"></span>
        </div>
        <div class="form-group">
            <input type = "hidden" asp-for="Cart.TotalPrice" class="form-control" value="100"/>
            <span asp-validation-for="Cart.TotalPrice" class="text-danger"></span>
        </div>
        <div class="form-group">
            <input type="submit" value="Add to Cart" class="btn btn-primary" />
        </div>
    
</form>
        }

        @section Scripts {
            @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
        }
